(()=>{"use strict";var e={338(e,t,s){var i=s(795);t.H=i.createRoot,i.hydrateRoot},795(e){e.exports=window.ReactDOM}},t={};const s=window.React;var i=function s(i){var n=t[i];if(void 0!==n)return n.exports;var d=t[i]={exports:{}};return e[i](d,d.exports,s),d.exports}(338);const n=window.ReactJSXRuntime;function d(){const[e,t]=(0,s.useState)("customer"),[i,d]=(0,s.useState)([]),[h,p]=(0,s.useState)(""),[f,x]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{!async function(){x(!0),p("");try{const t=await async function(e,t={}){const s=(window.BP_ADMIN?.restUrl||"/wp-json/bp/v1").replace(/\/$/,"")+e,i={"Content-Type":"application/json",...t.headers||{}},n=window.BP_ADMIN?.nonce;n&&(i["X-WP-Nonce"]=n);const d=await fetch(s,{method:t.method||"GET",credentials:"same-origin",headers:i,body:t.body?JSON.stringify(t.body):void 0}),o=await d.json().catch(()=>({}));if(!d.ok||"error"===o?.status){const e=new Error(o?.message||"Request failed");throw e.status=d.status,e.payload=o,e}return o}(`/admin/form-fields?scope=${e}`);d(t?.data||[])}catch(e){d([]),p(e.message||"Failed to load")}finally{x(!1)}}()},[e]),(0,n.jsxs)("div",{style:{padding:18},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontSize:18,fontWeight:1e3},children:"Form Fields"}),(0,n.jsx)("div",{style:{opacity:.7,fontWeight:850,marginTop:6},children:"If you see rows here, your REST + React is working."})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,n.jsx)("button",{onClick:()=>t("customer"),style:c("customer"===e),children:"Customer"}),(0,n.jsx)("button",{onClick:()=>t("booking"),style:c("booking"===e),children:"Booking"})]})]}),(0,n.jsx)("div",{style:{height:14}}),h?(0,n.jsx)("div",{style:r,children:h}):null,(0,n.jsxs)("div",{style:o,children:[f?(0,n.jsx)("div",{style:{fontWeight:900},children:"Loadingâ€¦"}):null,f||0!==i.length?null:(0,n.jsx)("div",{style:{fontWeight:900,opacity:.7},children:"No fields in DB for this scope."}),!f&&i.length>0?(0,n.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:l,children:"ID"}),(0,n.jsx)("th",{style:l,children:"Key"}),(0,n.jsx)("th",{style:l,children:"Label"}),(0,n.jsx)("th",{style:l,children:"Type"}),(0,n.jsx)("th",{style:l,children:"Enabled"}),(0,n.jsx)("th",{style:l,children:"Wizard"}),(0,n.jsx)("th",{style:l,children:"Required"})]})}),(0,n.jsx)("tbody",{children:i.map(e=>(0,n.jsxs)("tr",{style:{borderTop:"1px solid #f1f5f9"},children:[(0,n.jsx)("td",{style:a,children:e.id}),(0,n.jsx)("td",{style:a,children:(0,n.jsx)("code",{children:e.field_key})}),(0,n.jsx)("td",{style:a,children:e.label}),(0,n.jsx)("td",{style:a,children:e.type}),(0,n.jsx)("td",{style:a,children:Number(e.is_enabled)?"YES":"NO"}),(0,n.jsx)("td",{style:a,children:Number(e.show_in_wizard)?"YES":"NO"}),(0,n.jsx)("td",{style:a,children:Number(e.is_required)?"YES":"NO"})]},e.id))})]}):null]}),(0,n.jsxs)("div",{style:{marginTop:12,opacity:.8,fontWeight:850},children:["Test REST: open ",(0,n.jsxs)("code",{children:["/wp-json/bp/v1/admin/form-fields?scope=",e]})," in browser (while logged in)."]})]})}const o={background:"#fff",border:"1px solid #e5e7eb",borderRadius:18,padding:14},r={background:"#fef2f2",border:"1px solid #fecaca",color:"#991b1b",padding:10,borderRadius:14,fontWeight:900,marginBottom:12},l={textAlign:"left",padding:"10px",fontWeight:1e3,fontSize:12,opacity:.7,borderBottom:"1px solid #e5e7eb"},a={padding:"10px",verticalAlign:"top"},c=e=>({padding:"10px 12px",borderRadius:14,border:"1px solid #e5e7eb",fontWeight:900,background:e?"#4318ff":"#fff",color:e?"#fff":"#111827",cursor:"pointer"});function h(){const e=window.BP_ADMIN?.page||"bp";return"bp-form-fields"===e?(0,n.jsx)(d,{}):(0,n.jsxs)("div",{style:{padding:18,fontWeight:900},children:["BookPoint admin page: ",e]})}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("bp-admin-app");e&&(0,i.H)(e).render((0,n.jsx)(h,{}))})})();